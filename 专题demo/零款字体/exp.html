<!DOCTYPE html>
<html>
    <head></head>
    <body></body>
    <script>
        // TODO: 两种0宽字符的定义怎么来的。看着都是空串，怎么随意使用零宽字符呢。？？？
    const zeroPad = num => '00000000'.slice(String(num).length) + num;
    const textToBinary = username => (
        username.split('').map(char =>
            zeroPad(char.charCodeAt(0).toString(2))).join(' ')
    );


    const binaryToZeroWidth = binary => (
        binary.split('').map((binaryNum) => {
            const num = parseInt(binaryNum, 10);
            if (num === 1) {
                return '​'; // zero-width space
            } else if (num === 0) {
                return '‌'; // zero-width non-joiner
            }
            return '‍'; // zero-width joiner
        }).join('') // zero-width no-break space
    );

    const zeroWidthToBinary = string => (
        string.split('').map((char) => { // zero-width no-break space
            if (char === '​') { // zero-width space
                return '1';
            } else if (char === '‌') {  // zero-width non-joiner
                return '0';
            }
            return ' '; // add single space
        }).join('')
    );

    const binaryToText = string => (
        string.split(' ').map(num =>
            String.fromCharCode(parseInt(num, 2))
        ).join('')
    );
    </script>
</html>