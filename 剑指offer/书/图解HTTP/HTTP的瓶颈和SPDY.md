## 瓶颈

```
在Facebook等SNS网站上，几乎能够实时观察到海量用户发布的内容。当上千万用户发布内容时，Web网站会在很短的时间内发生大量的内容更新。而为了尽可能的实时显示这些更新，就需要直接把那些内容反馈到客户端上。但HTTP无法妥善的处理这项任务。使用HTTP协议探知服务器上内容是否有更新，就必须频繁的从客户端到服务端进行确认。如果服务器没有更新，就会产生无用的通信
```

要想在现有 web 实现所需功能，以下 HTTP 标准就会成为瓶颈

1. 一条连接上只可以发送一个请求

2. 请求只能从客户端开始。客户端不能接收除响应之外的其他指令

3. 请求/响应的首部字段未压缩就发送。首部信息越多，延迟越大

4. 发送冗长的首部。每次发送相同的首部造成的浪费较多

5. 可任意选择数据压缩格式。非强制压缩就发送

## SPDY 的设计

```
SPDY在TCP/IP协议的应用层和运输层通过新加会话层的形似运作。
同时考虑到安全性的问题，SPDY规定通信中使用SSL。
```

1. 多路复用流
2. 赋予请求优先级
3. 压缩 HTTP 首部
4. 推送功能 支持服务器主动向客户端推送数据。
5. 服务器提示功能 服务器主动提示客户端请求资源，由于客户端发现资源之前就可以获知资源的存在，在资源缓存的状态下避免发送不必要的请求
