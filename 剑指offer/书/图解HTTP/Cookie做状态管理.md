## Cookie 如何进行状态管理

```
HTTP本身是无状态协议，他不对之前发生的请求和响应状态进行管理。
假设要求登录的web页面本身无法进行状态管理。那么每次跳转新页面不是要再次登录就是要在每次的请求报文中附加参数来管理登录状态。
```

> 无状态协议的优点：
> 由于不用保存状态，服务器的 CPU 及内存资源损耗会减少

### 解决问题：Cookie 技术（存/取）

```
Cookie会根据从服务器端发送的响应报文的一个首部字段信息Set-Cookie, 通知客户端保存Cookie。
当下次客户端再向该服务端发送请求时，客户端会自动在请求报文中加入Cookie值
```

### 一个基本的 Cookie 存取操作

1. 请求报文（无 cookie）
   ![step1](assets/step1.jpg)
2. 响应报文（服务器端生成 cookie 信息）
   ![step1](assets/step1.jpg)
3. 请求报文（自动发送保存着的 cookie 信息）
   ![step1](assets/step1.jpg)

> 在项目实践中，会在请求头中添加一个字段将登录信息传给服务端。
> 用户在调用登录接口后，服务端以数据返回的形式返回登录 token
> 客户端拿到 token 后，手动存到缓存。

这种方式，我理解完全没有 set-cookie 来的简单优雅
